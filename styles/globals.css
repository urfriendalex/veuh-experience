@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Manrope:wght@400;500;600;700;800&family=Newsreader:opsz,wght@6..72,500;700&family=Uncial+Antiqua&display=swap');

:root {
  --font-body: 'Manrope', 'Avenir Next', 'Segoe UI', sans-serif;
  --font-display: 'Newsreader', 'Iowan Old Style', 'Baskerville', serif;

  --bg: #f5f5f5;
  --bg-alt: #e7e7e7;
  --surface: #ffffff;
  --surface-alt: #f1f1f1;
  --ink: #111111;
  --muted: #505050;
  --line: #c8c8c8;
  --accent: #1a1a1a;
  --accent-contrast: #f7f7f7;
  --shadow: 0 14px 36px rgba(10, 10, 10, 0.08);

  --radius-lg: 0;
  --radius-md: 0;
  --radius-sm: 0;

  --ease: 260ms cubic-bezier(0.22, 1, 0.36, 1);
}

html[data-theme='viking'] {
  --font-body: 'Cinzel', 'Palatino Linotype', serif;
  --font-display: 'Uncial Antiqua', 'Palatino Linotype', serif;

  --bg: #111821;
  --bg-alt: #1e2b3b;
  --surface: #1a222c;
  --surface-alt: #283344;
  --ink: #efe6d3;
  --muted: #b9ad96;
  --line: #4d5e73;
  --accent: #396188;
  --accent-contrast: #efe3ca;
  --shadow: 0 18px 45px rgba(4, 10, 18, 0.52);
}

* {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  min-height: 100%;
}

body {
  color: var(--ink);
  font-family: var(--font-body);
  background:
    radial-gradient(circle at 20% 10%, color-mix(in srgb, var(--bg-alt) 88%, transparent) 0%, transparent 42%),
    radial-gradient(circle at 80% 80%, color-mix(in srgb, var(--bg-alt) 80%, transparent) 0%, transparent 50%),
    var(--bg);
  transition:
    background var(--ease),
    color var(--ease);
}

html[data-theme='viking'] body {
  background:
    linear-gradient(130deg, rgba(44, 98, 156, 0.17), transparent 42%),
    radial-gradient(circle at 85% 15%, rgba(99, 176, 217, 0.14), transparent 40%),
    radial-gradient(circle at 10% 90%, rgba(58, 103, 160, 0.21), transparent 46%),
    radial-gradient(circle at 58% 48%, rgba(196, 151, 86, 0.13), transparent 54%),
    linear-gradient(180deg, rgba(39, 28, 19, 0.35) 0%, transparent 48%),
    var(--bg);
}

a {
  color: inherit;
  text-decoration: none;
}

.page-shell {
  width: min(1180px, 92vw);
  margin: 0 auto;
  padding: 12px 0 16px;
}

.entry-stage {
  width: min(1180px, 94vw);
  margin: 0 auto;
  min-height: 100dvh;
  padding: clamp(10px, 2.2vw, 24px) 0;
  display: grid;
}

.site-header {
  position: sticky;
  top: 14px;
  z-index: 12;
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 18px;
  padding: 12px 14px;
  border: 1px solid color-mix(in srgb, var(--line) 82%, transparent);
  border-radius: 0;
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  backdrop-filter: blur(24px);
  box-shadow: var(--shadow);
}

.logo {
  padding: 10px 12px;
  border-radius: 0;
  font-size: 0.74rem;
  letter-spacing: 0.19em;
  font-weight: 700;
  white-space: nowrap;
  background: color-mix(in srgb, var(--surface-alt) 92%, transparent);
}

.site-nav {
  display: flex;
  gap: 8px;
  justify-content: center;
}

.site-nav a {
  font-size: 0.84rem;
  font-weight: 600;
  letter-spacing: 0.04em;
  padding: 10px 14px;
  border: 1px solid transparent;
  border-radius: 0;
  color: var(--muted);
  transition: all var(--ease);
}

.site-nav .nav-ghost {
  font-size: 0.76rem;
  font-weight: 600;
  letter-spacing: 0.05em;
  color: var(--muted);
  padding: 8px 0;
  text-transform: uppercase;
  display: flex;
  align-items: center;
  justify-content: center;
}

.site-nav a:hover,
.site-nav a.is-active {
  color: var(--ink);
  border-color: var(--line);
  background: color-mix(in srgb, var(--surface-alt) 88%, transparent);
}

.site-actions {
  display: flex;
  align-items: center;
  gap: 10px;
}

.theme-toggle,
.cart-button,
.icon-button {
  border: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface-alt) 90%, transparent);
  color: var(--ink);
  border-radius: 0;
  font-family: var(--font-body);
  transition: all var(--ease);
}

.theme-toggle {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  padding: 10px 14px;
  font-size: 0.76rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-weight: 700;
}

.theme-toggle.is-compact {
  padding: 10px 12px;
}

.theme-toggle span {
  position: relative;
  z-index: 1;
  white-space: nowrap;
}

.theme-toggle.is-enter::after {
  content: '';
  position: absolute;
  top: 0;
  bottom: 0;
  left: -36%;
  width: 34%;
  transform: skewX(-24deg);
  background: linear-gradient(110deg, transparent, rgba(255, 224, 171, 0.7), transparent);
  transition: left 420ms var(--ease);
}

.theme-toggle.is-enter:hover {
  background: linear-gradient(180deg, #3f617f 0%, #25405a 48%, #172b3e 100%);
  color: #f5dfb2;
  border-color: #8f6e40;
  box-shadow:
    inset 0 1px 0 rgba(178, 224, 255, 0.45),
    inset 0 -10px 16px rgba(0, 0, 0, 0.36),
    0 10px 22px rgba(0, 0, 0, 0.22);
}

.theme-toggle.is-enter:hover::after {
  left: 116%;
}

.theme-toggle:hover,
.cart-button:hover,
.icon-button:hover {
  transform: translateY(-1px);
  border-color: color-mix(in srgb, var(--accent) 30%, var(--line));
}

.theme-toggle:disabled {
  opacity: 0.55;
}

.cart-button {
  padding: 9px 13px;
  display: inline-flex;
  gap: 8px;
  align-items: center;
  font-size: 0.83rem;
  font-weight: 700;
}

.cart-button span {
  display: grid;
  place-items: center;
  width: 24px;
  height: 24px;
  border-radius: 0;
  color: var(--accent-contrast);
  background: var(--accent);
  font-size: 0.78rem;
}

.entry-hero,
.store-head,
.experience-panel {
  margin-top: 16px;
  padding: clamp(26px, 4.5vw, 56px);
  border: 1px solid var(--line);
  border-radius: 0;
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  box-shadow: var(--shadow);
}

.store-hero {
  margin-top: 14px;
}

.store-hero h2 {
  margin: 0;
  font-family: var(--font-display);
  font-size: clamp(1.04rem, 1.9vw, 1.52rem);
  text-align: center;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.store-hero-stage {
  margin-top: 14px;
  border: 1px solid var(--line);
  background: #ffffff;
  height: clamp(320px, 80vw, 610px);
  min-height: clamp(320px, 80vw, 610px);
  display: grid;
  place-items: center;
  overflow: hidden;
}

.store-hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.store-hero-video {
  display: block;
  max-height: none;
}

.catalog-topbar {
  margin-top: 12px;
  border-top: 1px solid var(--line);
  padding-top: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 12px;
}

.catalog-topbar p {
  margin: 0;
  font-size: 0.82rem;
  color: var(--muted);
}

.catalog-tools {
  display: inline-flex;
  gap: 16px;
}

.catalog-tools span {
  font-size: 0.72rem;
  letter-spacing: 0.09em;
  text-transform: uppercase;
  color: var(--muted);
}

.entry-hero.fullscreen-entry {
  margin-top: 0;
  min-height: calc(100dvh - 2 * clamp(10px, 2.2vw, 24px));
  display: grid;
  align-content: center;
  justify-items: start;
}

.entry-hero h1,
.store-head h1,
.experience-panel h1,
.experience-copy h2,
.confirmation h2 {
  margin: 0;
  line-height: 1.03;
  font-family: var(--font-display);
}

.entry-hero h1,
.store-head h1,
.experience-panel h1 {
  margin-top: 10px;
  font-size: clamp(2.2rem, 7.2vw, 5.3rem);
}

.entry-hero p,
.store-head p,
.experience-panel p,
.product-description,
.product-size {
  color: var(--muted);
}

.entry-hero > p,
.store-head > p,
.experience-panel > p {
  max-width: 670px;
  font-size: 1.04rem;
  line-height: 1.6;
  margin-top: 14px;
}

.product-kicker {
  margin: 0;
  font-size: 0.76rem;
  letter-spacing: 0.2em;
  text-transform: uppercase;
  font-weight: 700;
}

.entry-actions,
.summary-actions,
.experience-actions,
.cart-foot-actions {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.entry-actions,
.summary-actions {
  margin-top: 30px;
}

.button {
  border: 1px solid transparent;
  background: var(--accent);
  color: var(--accent-contrast);
  border-radius: 0;
  padding: 13px 22px;
  font-family: var(--font-body);
  font-size: 0.9rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  cursor: pointer;
  transition: all var(--ease);
}

.button:hover {
  transform: translateY(-2px);
  filter: brightness(1.06);
}

.button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  transform: none;
}

.button.ghost {
  background: transparent;
  color: var(--ink);
  border-color: var(--line);
}

.button.is-added {
  background: color-mix(in srgb, var(--accent) 80%, #275f32);
}

.filter-row {
  display: inline-flex;
  gap: 6px;
  padding: 6px;
  border-radius: 0;
  margin-top: 24px;
  background: color-mix(in srgb, var(--surface-alt) 90%, transparent);
  border: 1px solid var(--line);
}

.filter-row button {
  border: 0;
  border-radius: 0;
  background: transparent;
  color: var(--muted);
  font-family: var(--font-body);
  font-size: 0.82rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  padding: 9px 14px;
  cursor: pointer;
  transition: all var(--ease);
}

.filter-row button.is-active {
  background: var(--accent);
  color: var(--accent-contrast);
}

.product-grid {
  margin-top: 24px;
  display: grid;
  grid-template-columns: repeat(12, minmax(0, 1fr));
  gap: 16px;
}

.product-card {
  grid-column: span 4;
  border: 1px solid var(--line);
  border-radius: 0;
  padding: 14px;
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  display: grid;
  gap: 14px;
  transition: transform var(--ease), border-color var(--ease), box-shadow var(--ease);
}

.product-card:hover {
  transform: translateY(-3px);
  border-color: color-mix(in srgb, var(--accent) 26%, var(--line));
  box-shadow: var(--shadow);
}

.product-card.is-archived {
  opacity: 0.83;
}

.product-card.is-archived .product-image {
  filter: grayscale(1) contrast(0.92);
}

.product-image-wrap {
  position: relative;
  border-radius: 0;
  overflow: hidden;
  aspect-ratio: 4 / 5;
  border: 1px solid color-mix(in srgb, var(--line) 78%, transparent);
}

.product-image {
  width: 100%;
  height: 100%;
  padding: 10px;
  box-sizing: border-box;
  object-fit: contain;
  object-position: center;
}

.gallery-frame {
  position: relative;
}

.gallery-nav {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 2;
  width: 34px;
  height: 34px;
  border: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  color: var(--ink);
  font-size: 1.2rem;
  line-height: 1;
  display: grid;
  place-items: center;
  cursor: pointer;
  transition: all var(--ease);
}

.gallery-nav:hover {
  background: var(--accent);
  color: var(--accent-contrast);
}

.gallery-nav-prev {
  left: 10px;
}

.gallery-nav-next {
  right: 10px;
}

.gallery-dots {
  position: absolute;
  left: 50%;
  bottom: 10px;
  transform: translateX(-50%);
  z-index: 2;
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 5px 8px;
  background: color-mix(in srgb, var(--surface) 80%, transparent);
  border: 1px solid color-mix(in srgb, var(--line) 72%, transparent);
}

.gallery-dot {
  width: 8px;
  height: 8px;
  border: 0;
  padding: 0;
  cursor: pointer;
  background: color-mix(in srgb, var(--muted) 44%, transparent);
  transition: transform var(--ease), background var(--ease);
}

.gallery-dot.is-active {
  background: var(--accent);
  transform: scale(1.16);
}

.product-badge {
  position: absolute;
  top: 10px;
  left: 10px;
  font-size: 0.7rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  font-weight: 700;
  color: var(--accent-contrast);
  background: var(--accent);
  padding: 7px 9px;
  border-radius: 0;
}

.product-meta {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
}

.product-meta h3 {
  margin: 6px 0 0;
  font-size: 1.28rem;
  font-family: var(--font-display);
  line-height: 1.15;
}

.product-price {
  margin: 0;
  font-weight: 800;
}

.product-description,
.product-size {
  margin: 0;
  font-size: 0.92rem;
  line-height: 1.5;
}

.product-size {
  font-size: 0.84rem;
}

.overlay {
  position: fixed;
  inset: 0;
  z-index: 70;
  background: rgba(0, 0, 0, 0.45);
  opacity: 0;
  pointer-events: none;
  transition: opacity var(--ease);
}

.overlay.is-visible {
  opacity: 1;
  pointer-events: auto;
}

.cart-drawer,
.checkout-modal {
  position: fixed;
  z-index: 80;
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border: 1px solid var(--line);
  box-shadow: var(--shadow);
}

.cart-drawer {
  top: 12px;
  right: 12px;
  bottom: 12px;
  width: min(430px, calc(100vw - 24px));
  border-radius: 0;
  padding: 18px;
  display: grid;
  grid-template-rows: auto 1fr auto;
  gap: 14px;
  transform: translateX(108%);
  transition: transform var(--ease);
}

.cart-drawer.is-open {
  transform: translateX(0);
}

.cart-head,
.checkout-modal header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 14px;
}

.cart-head h2,
.checkout-modal h2 {
  margin: 0;
  font-size: 1.45rem;
  font-family: var(--font-display);
}

.icon-button {
  padding: 8px 12px;
  font-size: 0.78rem;
  font-weight: 700;
  letter-spacing: 0.04em;
  cursor: pointer;
}

.cart-content {
  overflow: auto;
  padding-right: 6px;
}

.cart-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  gap: 10px;
}

.cart-item {
  display: grid;
  grid-template-columns: 64px 1fr auto;
  align-items: center;
  gap: 10px;
  border: 1px solid var(--line);
  border-radius: 0;
  padding: 8px;
}

.cart-thumb {
  border-radius: 0;
  border: 1px solid color-mix(in srgb, var(--line) 78%, transparent);
  object-fit: contain;
  background: color-mix(in srgb, var(--surface-alt) 88%, transparent);
}

.cart-item-copy h3 {
  margin: 0;
  font-size: 0.93rem;
}

.cart-item-copy p {
  margin: 4px 0 0;
  color: var(--muted);
  font-size: 0.84rem;
}

.cart-empty {
  color: var(--muted);
}

.cart-total {
  margin-bottom: 12px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 0.94rem;
}

.cart-total strong {
  font-size: 1.2rem;
  font-family: var(--font-display);
}

.checkout-modal {
  width: min(560px, calc(100vw - 24px));
  left: 50%;
  top: 50%;
  transform: translate(-50%, -45%) scale(0.98);
  border-radius: 0;
  padding: 20px;
  opacity: 0;
  pointer-events: none;
  transition: transform var(--ease), opacity var(--ease);
}

.checkout-modal.is-open {
  opacity: 1;
  transform: translate(-50%, -50%) scale(1);
  pointer-events: auto;
}

.checkout-note {
  color: var(--muted);
  margin: 10px 0 18px;
}

.checkout-modal form {
  display: grid;
  gap: 10px;
}

.ritual-checkout {
  display: grid;
  justify-items: center;
  gap: 20px;
  padding: 26px 12px;
}

.ritual-price {
  margin: 0;
  font-family: var(--font-display);
  font-size: clamp(2.8rem, 14vw, 5.8rem);
  line-height: 1;
  letter-spacing: 0.04em;
}

.checkout-pay-button {
  width: min(100%, 420px);
  min-height: 78px;
  font-size: clamp(1.5rem, 7vw, 2.8rem);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-family: var(--font-display);
}

.checkout-modal label {
  font-size: 0.75rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 700;
}

.checkout-modal input {
  width: 100%;
  border: 1px solid var(--line);
  border-radius: 0;
  background: color-mix(in srgb, var(--surface-alt) 90%, transparent);
  color: var(--ink);
  padding: 11px 12px;
  font-family: var(--font-body);
}

.checkout-summary {
  margin: 8px 0 4px;
  padding: 12px;
  border: 1px solid var(--line);
  border-radius: 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.checkout-summary strong {
  font-family: var(--font-display);
  font-size: 1.1rem;
}

.confirmation {
  position: relative;
  overflow: hidden;
  border: 1px solid var(--line);
  border-radius: 0;
  padding: 18px;
}

.confirmation h2 {
  margin-top: 8px;
  font-size: clamp(1.8rem, 6vw, 2.8rem);
}

.confirmation p {
  color: var(--muted);
  line-height: 1.65;
}

.confetti {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

.confetti span {
  position: absolute;
  left: calc((var(--i) * 5.8%) + 4%);
  top: -14px;
  width: 7px;
  height: 20px;
  opacity: 0.55;
  border-radius: 0;
  animation: confetti-drop 1.8s linear infinite;
  animation-delay: calc(var(--i) * -0.08s);
  background: linear-gradient(var(--accent), color-mix(in srgb, var(--accent-contrast) 60%, #ffffff));
}

@keyframes confetti-drop {
  from {
    transform: translateY(-20px) rotate(0deg);
  }

  to {
    transform: translateY(300px) rotate(260deg);
  }
}

.experience-panel {
  position: relative;
}

.page-shell.experience-shell.immersive {
  width: min(1440px, 96vw);
  height: 100dvh;
  min-height: 100dvh;
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
  row-gap: 12px;
  overflow: hidden;
}

.page-shell.experience-shell.immersive .site-header {
  position: relative;
  top: 0;
}

.page-shell.experience-shell.immersive .experience-panel.intro.fullscreen-entry {
  margin-top: 0;
  min-height: 0;
  height: 100%;
}

.experience-panel.fullscreen {
  margin-top: 0;
  height: 100%;
  min-height: 0;
  padding: clamp(14px, 2.1vw, 22px);
  display: grid;
  grid-template-rows: auto minmax(0, 1fr);
}

.experience-panel.fullscreen .experience-card {
  height: 100%;
  min-height: 0;
  grid-template-columns: minmax(0, 1.22fr) minmax(0, 0.78fr);
  gap: clamp(14px, 2vw, 24px);
}

.experience-panel.fullscreen .experience-image-wrap {
  height: 100%;
  min-height: 0;
  aspect-ratio: auto;
}

.experience-panel.fullscreen .experience-copy {
  align-self: stretch;
  align-content: center;
  overflow: auto;
  padding: clamp(2px, 1vw, 10px) 0;
}

.experience-panel.intro,
.experience-panel.summary {
  min-height: clamp(360px, 58vh, 560px);
  display: grid;
  align-content: center;
  justify-items: start;
}

.experience-panel.intro.fullscreen-entry {
  min-height: calc(100dvh - 128px);
}

.experience-progress {
  display: flex;
  align-items: center;
  gap: 14px;
  margin-bottom: 20px;
}

.experience-progress span {
  min-width: 48px;
  font-size: 0.8rem;
  letter-spacing: 0.1em;
  font-weight: 700;
}

.progress-track {
  height: 7px;
  flex: 1;
  border-radius: 0;
  overflow: hidden;
  background: color-mix(in srgb, var(--surface-alt) 92%, transparent);
  border: 1px solid var(--line);
}

.progress-track i {
  display: block;
  height: 100%;
  border-radius: 0;
  background: linear-gradient(90deg, color-mix(in srgb, var(--accent) 76%, #606060), var(--accent));
  transition: width var(--ease);
}

.experience-card {
  display: grid;
  grid-template-columns: 1.1fr 1fr;
  gap: 20px;
  border: 1px solid var(--line);
  border-radius: 0;
  padding: 16px;
  background: color-mix(in srgb, var(--surface) 94%, transparent);
}

.experience-image-wrap {
  border-radius: 0;
  border: 1px solid color-mix(in srgb, var(--line) 76%, transparent);
  overflow: hidden;
  aspect-ratio: 1 / 1;
}

.experience-image {
  width: 100%;
  height: 100%;
  padding: 10px;
  box-sizing: border-box;
  object-fit: contain;
  object-position: center;
}

.experience-copy {
  display: grid;
  align-content: center;
  gap: 12px;
}

.experience-copy h2 {
  font-size: clamp(1.8rem, 3.7vw, 3rem);
}

.experience-copy p {
  margin: 0;
  line-height: 1.65;
}

.experience-description-variant {
  font-size: 0.72rem;
  letter-spacing: 0.15em;
  text-transform: uppercase;
  font-weight: 700;
}

.experience-actions {
  margin-top: 8px;
}

.viking-mechanics-panel {
  margin-top: 18px;
  width: min(100%, 620px);
  padding: 14px;
  border: 1px solid color-mix(in srgb, var(--line) 82%, transparent);
  background: color-mix(in srgb, var(--surface-alt) 80%, transparent);
  display: grid;
  gap: 10px;
}

.viking-mechanics-panel h3 {
  margin: 0;
  font-size: 0.8rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.viking-mechanics-panel p {
  margin: 0;
}

.viking-mechanics-status {
  font-size: 0.84rem;
  letter-spacing: 0.05em;
  font-weight: 700;
}

.viking-gate-panel {
  gap: 16px;
}

.viking-oops-card {
  margin-top: 8px;
  width: min(100%, 560px);
  border: 1px dashed color-mix(in srgb, var(--line) 74%, transparent);
  background: color-mix(in srgb, var(--surface-alt) 86%, transparent);
  padding: 16px;
  display: grid;
  gap: 10px;
}

.viking-oops-code,
.viking-oops-help {
  margin: 0;
}

.viking-oops-code {
  font-size: 0.74rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 700;
}

.viking-gate-warning {
  margin: 0;
  color: #a33a2f;
  font-weight: 700;
}

.viking-refresh-button {
  justify-self: start;
}

.ritual-pay-page {
  position: relative;
  min-height: 100dvh;
  padding: 20px 0;
  background: radial-gradient(circle at 12% 18%, rgba(20, 92, 158, 0.42) 0%, rgba(0, 20, 40, 0) 38%), #02172e;
  color: #f2f6fd;
  font-family: 'Manrope', 'Avenir Next', 'Segoe UI', sans-serif;
  overflow: hidden;
}

.ritual-pay-glow {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 22% 48%, rgba(0, 47, 89, 0.32) 0%, rgba(0, 18, 35, 0) 48%),
    radial-gradient(circle at 78% 15%, rgba(10, 30, 54, 0.28) 0%, rgba(0, 15, 30, 0) 42%),
    linear-gradient(180deg, rgba(1, 14, 30, 0.4) 0%, rgba(1, 13, 26, 0.8) 72%, rgba(1, 10, 21, 0.96) 100%);
}

.ritual-pay-shell {
  position: relative;
  z-index: 1;
  width: min(640px, calc(100vw - 26px));
  margin: 0 auto;
  min-height: calc(100dvh - 40px);
  display: grid;
  grid-template-rows: auto auto auto auto auto 1fr;
  gap: 28px;
}

.ritual-pay-top {
  margin-top: 6px;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: start;
  gap: 20px;
}

.ritual-pay-top h1 {
  margin: 0;
  font-family: 'Manrope', 'Avenir Next', 'Segoe UI', sans-serif;
  font-size: clamp(2rem, 4.1vw, 3.15rem);
  font-weight: 800;
  letter-spacing: -0.03em;
  color: #f7f8fb;
}

.ritual-pay-top p {
  margin: 10px 0 0;
  color: #a8b9cf;
  font-size: 1.02rem;
}

.ritual-pay-brand {
  margin: 0;
  grid-column: 1 / -1;
  justify-self: center;
  align-self: start;
  color: #f3f6fd;
  font-weight: 800;
  font-size: 2rem;
  letter-spacing: -0.02em;
}

.ritual-pay-avatar {
  justify-self: end;
  margin-top: 28px;
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: #ff8149;
  display: grid;
  place-items: center;
  position: relative;
  color: #fff4ec;
  font-weight: 700;
  font-size: 1.75rem;
}

.ritual-pay-avatar i {
  position: absolute;
  right: -2px;
  bottom: -1px;
  width: 21px;
  height: 21px;
  border-radius: 50%;
  border: 2px solid #d6dde8;
  background: #091d33;
  display: grid;
  place-items: center;
  font-style: normal;
  font-size: 0.8rem;
}

.ritual-pay-center {
  margin-top: 6px;
  display: grid;
  justify-items: center;
  gap: 12px;
}

.ritual-pay-center h2 {
  margin: 0;
  font-family: 'Manrope', 'Avenir Next', 'Segoe UI', sans-serif;
  font-size: clamp(3.3rem, 8.5vw, 5.9rem);
  line-height: 1;
  letter-spacing: -0.02em;
  font-weight: 800;
}

.ritual-pay-currency {
  border: 0;
  border-radius: 999px;
  background: #182c42;
  color: #e6edf7;
  font-family: inherit;
  font-size: 1.65rem;
  padding: 8px 18px;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  cursor: default;
}

.ritual-pay-caret {
  font-size: 1.3rem;
  margin-top: -2px;
}

.ritual-pay-note {
  background: #2a3747;
  border-radius: 15px;
  padding: 11px 14px 12px;
}

.ritual-pay-note-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
  color: #9cadc1;
}

.ritual-pay-gif {
  font-size: 0.78rem;
  border: 1px solid #7288a1;
  border-radius: 11px;
  padding: 2px 6px;
}

.ritual-pay-note p {
  margin: 6px 0 0;
}

.ritual-pay-note > p:first-of-type {
  color: #f6f8fc;
  font-size: 2rem;
  line-height: 1.2;
}

.ritual-pay-count {
  text-align: right;
  color: #97a8bb;
  font-size: 0.95rem;
}

.ritual-pay-methods-title {
  margin: 0 0 12px;
  font-size: 1.95rem;
  color: #ebf0f8;
  font-weight: 700;
}

.ritual-pay-method-list {
  background: #1a2b3f;
  border-radius: 16px;
  overflow: hidden;
}

.ritual-pay-method {
  width: 100%;
  border: 0;
  background: transparent;
  color: #f0f5ff;
  padding: 16px 15px;
  display: grid;
  grid-template-columns: 34px 1fr auto;
  align-items: center;
  gap: 10px;
  text-align: left;
  font-family: inherit;
  font-size: 1.1rem;
  cursor: default;
}

.ritual-pay-method + .ritual-pay-method {
  border-top: 1px solid rgba(132, 154, 177, 0.18);
}

.ritual-pay-method-icon {
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: #31445a;
  color: #dbe6f7;
  font-size: 1rem;
}

.ritual-pay-arrow {
  color: #8399b2;
  font-size: 1.5rem;
}

.ritual-pay-action {
  margin-top: 6px;
}

.ritual-pay-submit {
  width: 100%;
  border: 0;
  border-radius: 15px;
  min-height: 56px;
  background: linear-gradient(180deg, #3d95ff 0%, #2b7fec 100%);
  color: #f5fbff;
  font-family: inherit;
  font-size: 1.25rem;
  font-weight: 800;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  cursor: pointer;
}

.ritual-pay-submit:hover {
  filter: brightness(1.05);
}

.ritual-pay-foot {
  margin-top: auto;
  padding-top: 18px;
  display: grid;
  gap: 10px;
  text-align: center;
  color: #8e9db0;
  font-size: 0.98rem;
  line-height: 1.42;
}

.ritual-pay-foot p {
  margin: 0;
}

.ritual-pay-foot a {
  color: #85b4ff;
}

.ritual-pay-language {
  color: #d6deeb;
}

@media (max-width: 820px) {
  .ritual-pay-page {
    padding: 12px 0;
  }

  .ritual-pay-shell {
    width: calc(100vw - 20px);
    min-height: calc(100dvh - 24px);
    gap: 18px;
  }

  .ritual-pay-top h1 {
    font-size: clamp(1.8rem, 6vw, 2.5rem);
  }

  .ritual-pay-brand {
    font-size: 1.9rem;
  }

  .ritual-pay-avatar {
    margin-top: 18px;
    width: 60px;
    height: 60px;
    font-size: 1.38rem;
  }

  .ritual-pay-center h2 {
    font-size: clamp(2.7rem, 14vw, 4.8rem);
  }

  .ritual-pay-currency {
    font-size: 1.25rem;
  }

  .ritual-pay-note > p:first-of-type {
    font-size: 1.6rem;
  }

  .ritual-pay-methods-title {
    font-size: 1.45rem;
  }

  .ritual-pay-method {
    font-size: 1rem;
    padding: 13px 12px;
  }

  .ritual-pay-foot {
    font-size: 0.86rem;
  }
}

html[data-theme='viking'] .site-header,
html[data-theme='viking'] .entry-hero,
html[data-theme='viking'] .store-head,
html[data-theme='viking'] .experience-panel,
html[data-theme='viking'] .product-card,
html[data-theme='viking'] .experience-card,
html[data-theme='viking'] .cart-drawer,
html[data-theme='viking'] .checkout-modal,
html[data-theme='viking'] .cart-item,
html[data-theme='viking'] .checkout-summary,
html[data-theme='viking'] .filter-row {
  position: relative;
  overflow: hidden;
  border-color: #6d6a5b;
  background:
    linear-gradient(180deg, rgba(34, 45, 60, 0.95) 0%, rgba(24, 19, 16, 0.98) 100%),
    radial-gradient(circle at 50% -20%, rgba(90, 138, 186, 0.22), transparent 52%),
    radial-gradient(circle at 85% 120%, rgba(167, 125, 66, 0.18), transparent 48%);
  box-shadow:
    inset 0 1px 0 rgba(224, 195, 142, 0.24),
    inset 0 0 0 1px rgba(49, 41, 30, 0.82),
    0 18px 34px rgba(1, 10, 21, 0.46);
}

/* Keep modal/drawer behavior identical to default theme; only skin should differ */
html[data-theme='viking'] .cart-drawer,
html[data-theme='viking'] .checkout-modal {
  position: fixed;
  overflow: visible;
}

html[data-theme='viking'] .site-header::before,
html[data-theme='viking'] .entry-hero::before,
html[data-theme='viking'] .store-head::before,
html[data-theme='viking'] .experience-panel::before,
html[data-theme='viking'] .product-card::before,
html[data-theme='viking'] .experience-card::before {
  content: '';
  position: absolute;
  inset: 4px;
  pointer-events: none;
  border-radius: 0;
  border: 1px solid rgba(196, 160, 102, 0.34);
}

html[data-theme='viking'] .site-header {
  border-radius: 0;
}

html[data-theme='viking'] .logo {
  border: 1px solid #9a7a49;
  background: linear-gradient(180deg, rgba(40, 57, 78, 0.96) 0%, rgba(26, 19, 15, 0.98) 100%);
  color: #e8c889;
  font-family: var(--font-display);
  letter-spacing: 0.13em;
  text-shadow: 0 1px 0 #000;
}

html[data-theme='viking'] .product-kicker,
html[data-theme='viking'] .product-price {
  color: #d8ca9f;
  text-shadow: 0 1px 0 #000;
}

html[data-theme='viking'] .entry-hero h1,
html[data-theme='viking'] .store-head h1,
html[data-theme='viking'] .experience-panel h1,
html[data-theme='viking'] .experience-copy h2,
html[data-theme='viking'] .confirmation h2 {
  color: #f5dfb0;
  text-shadow: 0 2px 0 #000;
}

html[data-theme='viking'] .site-nav a,
html[data-theme='viking'] .button,
html[data-theme='viking'] .theme-toggle,
html[data-theme='viking'] .cart-button,
html[data-theme='viking'] .filter-row button,
html[data-theme='viking'] .icon-button {
  position: relative;
  overflow: hidden;
  border-radius: 0;
  border: 1px solid #9e7f4f;
  background: linear-gradient(180deg, #4b7095 0%, #2d4f70 52%, #213043 100%);
  color: #f6e5bc;
  text-shadow: 0 1px 0 #000;
  box-shadow:
    inset 0 1px 0 rgba(207, 232, 255, 0.43),
    inset 0 -10px 18px rgba(24, 14, 8, 0.44),
    0 7px 16px rgba(1, 10, 22, 0.38);
}

html[data-theme='viking'] .site-nav a::before,
html[data-theme='viking'] .button::before,
html[data-theme='viking'] .theme-toggle::before,
html[data-theme='viking'] .cart-button::before,
html[data-theme='viking'] .filter-row button::before,
html[data-theme='viking'] .icon-button::before {
  content: '';
  position: absolute;
  inset: 2px;
  border-radius: 0;
  border: 1px solid rgba(213, 176, 109, 0.52);
  pointer-events: none;
}

html[data-theme='viking'] .site-nav a:hover,
html[data-theme='viking'] .site-nav a.is-active,
html[data-theme='viking'] .button:hover,
html[data-theme='viking'] .cart-button:hover,
html[data-theme='viking'] .theme-toggle:hover,
html[data-theme='viking'] .filter-row button:hover,
html[data-theme='viking'] .filter-row button.is-active,
html[data-theme='viking'] .icon-button:hover {
  border-color: #c2a270;
  background: linear-gradient(180deg, #5c82a8 0%, #3e6282 52%, #263f57 100%);
  transform: translateY(-2px);
}

html[data-theme='viking'] .theme-toggle.is-active {
  border-color: #b69867;
  background: linear-gradient(180deg, #506f91 0%, #3a5674 52%, #2a3d52 100%);
}

html[data-theme='viking'] .cart-button span {
  border: 1px solid #8fb2de;
  background: radial-gradient(circle at 35% 30%, #a6ebff 0%, #3d90b7 50%, #19384f 100%);
  box-shadow:
    inset 0 1px 0 rgba(255, 255, 255, 0.38),
    0 0 0 1px rgba(14, 26, 42, 0.72);
}

html[data-theme='viking'] .button.ghost {
  background: linear-gradient(180deg, #4a3a2f 0%, #342922 52%, #241d19 100%);
}

html[data-theme='viking'] .button.is-added {
  background: linear-gradient(180deg, #8f6f2f 0%, #61491e 50%, #3f3016 100%);
}

html[data-theme='viking'] .product-image-wrap,
html[data-theme='viking'] .experience-image-wrap,
html[data-theme='viking'] .cart-thumb,
html[data-theme='viking'] .checkout-modal input {
  border-color: #90764f;
  background: rgba(12, 21, 34, 0.6);
}

html[data-theme='viking'] .checkout-modal input {
  color: #dce9fb;
}

html[data-theme='viking'] .product-badge {
  background: linear-gradient(180deg, #516c98 0%, #33496d 100%);
  border: 1px solid #8eaed4;
}

html[data-theme='viking'] .progress-track {
  border-color: #6c8bb1;
  background: rgba(7, 16, 24, 0.9);
}

html[data-theme='viking'] .progress-track i {
  background: linear-gradient(90deg, #97b3d6 0%, #73c9f0 42%, #3f7399 100%);
}

html[data-theme='viking'] .gallery-nav {
  border-color: #90764f;
  background: rgba(17, 27, 41, 0.86);
  color: #f3ddad;
}

html[data-theme='viking'] .gallery-nav:hover {
  background: linear-gradient(180deg, #5c82a8 0%, #3e6282 52%, #263f57 100%);
  color: #f9ebc6;
}

html[data-theme='viking'] .gallery-dots {
  border-color: #90764f;
  background: rgba(10, 20, 34, 0.82);
}

html[data-theme='viking'] .gallery-dot {
  background: rgba(190, 163, 111, 0.44);
}

html[data-theme='viking'] .gallery-dot.is-active {
  background: #f5dfb0;
}

html[data-theme='viking'] .viking-mechanics-panel,
html[data-theme='viking'] .viking-oops-card {
  border-color: #90764f;
  background: rgba(15, 20, 29, 0.72);
}

html[data-theme='viking'] .viking-gate-warning {
  color: #f1c49b;
}

html[data-theme='viking'] .cart-drawer {
  overflow: visible;
}

body.is-viking-loading {
  overflow: hidden;
  touch-action: none;
}

.viking-preloader {
  position: fixed;
  inset: 0;
  z-index: 180;
  overflow: hidden;
  background: linear-gradient(180deg, #23170f 0%, #1a110b 100%);
  animation: viking-loader-fadein 240ms ease-out;
}

.viking-preloader.is-bg-ready {
  background:
    linear-gradient(180deg, rgba(16, 10, 6, 0.12) 10%, rgba(9, 6, 4, 0.22) 100%),
    radial-gradient(circle at 18% 26%, rgba(195, 138, 71, 0.26), transparent 48%),
    radial-gradient(circle at 78% 100%, rgba(97, 59, 30, 0.14), transparent 50%),
    url('/preloader/bg.webp') center / cover no-repeat;
}

.viking-preloader.is-bg-fallback {
  background:
    radial-gradient(circle at 18% 26%, rgba(195, 138, 71, 0.3), transparent 48%),
    radial-gradient(circle at 78% 100%, rgba(97, 59, 30, 0.22), transparent 50%),
    linear-gradient(180deg, #23170f 0%, #1a110b 100%);
}

.viking-preloader::before {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(circle at 35% 40%, rgba(27, 18, 11, 0.22), transparent 56%),
    radial-gradient(circle at 66% 50%, rgba(39, 24, 13, 0.16), transparent 62%),
    repeating-radial-gradient(
      circle at 50% 50%,
      rgba(26, 14, 7, 0.08) 0,
      rgba(26, 14, 7, 0.08) 1px,
      transparent 2px,
      transparent 9px
    );
  mix-blend-mode: multiply;
  opacity: 0.42;
}

.viking-preloader::after {
  content: '';
  position: absolute;
  inset: 0;
  pointer-events: none;
  background:
    linear-gradient(180deg, rgba(0, 0, 0, 0.92) 0, transparent 9%, transparent 91%, rgba(0, 0, 0, 0.92) 100%);
}

.viking-preloader-scene {
  position: relative;
  z-index: 1;
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: minmax(36px, 10vw) minmax(360px, 520px) 1fr;
  gap: clamp(18px, 2.5vw, 34px);
  padding: 0 clamp(10px, 2.2vw, 26px) 0 0;
}

.viking-preloader-panel {
  position: relative;
  grid-column: 2;
  height: 100%;
  border: 1px solid #6e3226;
  border-top: 0;
  border-bottom: 0;
  background:
    linear-gradient(180deg, rgba(67, 10, 6, 0.98) 0%, rgba(56, 6, 4, 0.99) 58%, rgba(35, 4, 4, 1) 100%),
    radial-gradient(circle at 62% -8%, rgba(175, 66, 47, 0.2), transparent 42%);
  box-shadow:
    inset 1px 0 0 rgba(172, 108, 93, 0.48),
    inset -1px 0 0 rgba(172, 108, 93, 0.48),
    0 24px 44px rgba(0, 0, 0, 0.5);
  padding: clamp(20px, 2.2vw, 30px);
  display: flex;
  flex-direction: column;
}

.viking-preloader-panel::before {
  content: '';
  position: absolute;
  inset: 8px 10px;
  border: 1px solid rgba(167, 111, 93, 0.34);
  pointer-events: none;
}

.viking-preloader-panel-head {
  border-top: 1px solid rgba(213, 178, 159, 0.42);
  border-bottom: 1px solid rgba(213, 178, 159, 0.42);
  padding: 10px 0 12px;
}

.viking-preloader-kicker {
  margin: 0;
  color: #f6efe1;
  font-family: var(--font-display);
  font-size: 2.05rem;
  letter-spacing: 0.03em;
  text-align: center;
  text-transform: uppercase;
}

.viking-preloader h2 {
  margin: 2px 0 0;
  color: #f5ece0;
  font-family: var(--font-display);
  font-size: clamp(1rem, 2.1vw, 1.3rem);
  letter-spacing: 0.04em;
  text-align: center;
  text-transform: uppercase;
}

.viking-preloader-description {
  margin: 18px 0 0;
  color: #f0dfcf;
  font-size: 0.95rem;
  line-height: 1.44;
}

.viking-preloader-panel h3 {
  margin: 20px 0 0;
  font-family: var(--font-display);
  color: #f5ece0;
  font-size: 1.1rem;
  letter-spacing: 0.04em;
  text-transform: uppercase;
  text-align: center;
  border-top: 1px solid rgba(213, 178, 159, 0.42);
  border-bottom: 1px solid rgba(213, 178, 159, 0.42);
  padding: 8px 0;
}

.viking-preloader-list {
  margin: 10px 0 0;
  padding-left: 18px;
  display: grid;
  gap: 8px;
  color: #f0ddca;
  font-size: 0.88rem;
  line-height: 1.36;
}

.viking-preloader-foot {
  margin-top: auto;
  padding-top: 16px;
}

.viking-preloader-loading,
.viking-preloader-cta {
  width: 100%;
}

.viking-preloader-bar {
  border: 1px solid #9a6f5d;
  height: 10px;
  background: rgba(21, 5, 6, 0.88);
  overflow: hidden;
}

.viking-preloader-bar span {
  display: block;
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, #a14f3e 0%, #d78f5d 55%, #f3d39f 100%);
  animation: viking-loader-fill var(--viking-loader-duration, 15000ms) linear forwards;
}

.viking-preloader-loading p {
  margin: 10px 0 0;
  color: #f3e2cf;
  font-size: 0.76rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.viking-loader-dots::after {
  content: '...';
  display: inline-block;
  width: 1.6ch;
  text-align: left;
  animation: viking-loader-dots 1.2s steps(4, end) infinite;
}

.viking-preloader-cta {
  display: grid;
  justify-items: center;
  gap: 8px;
}

.viking-preloader-orb {
  width: 58px;
  height: 58px;
  padding: 0;
  display: grid;
  place-items: center;
  border-radius: 50%;
  border: 1px solid #ceb48d;
  cursor: pointer;
  background:
    radial-gradient(circle at 35% 30%, #9bc8ef 0%, #547ab4 42%, #313a70 72%, #1c2047 100%);
  box-shadow:
    inset 0 1px 2px rgba(228, 241, 255, 0.58),
    0 3px 7px rgba(0, 0, 0, 0.56);
  transition: transform var(--ease), filter var(--ease), box-shadow var(--ease);
}

.viking-preloader-orb:hover {
  transform: translateY(-1px) scale(1.02);
  filter: brightness(1.08);
  box-shadow:
    inset 0 1px 2px rgba(228, 241, 255, 0.62),
    0 5px 12px rgba(0, 0, 0, 0.62);
}

.viking-preloader-orb:focus-visible {
  outline: 2px solid #f2d6a3;
  outline-offset: 2px;
}

.viking-preloader-orb-icon {
  width: 33px;
  height: 33px;
  fill: none;
  stroke: rgba(230, 240, 255, 0.94);
  stroke-width: 1.35;
  stroke-linecap: round;
  stroke-linejoin: round;
  filter: drop-shadow(0 1px 0 rgba(11, 24, 52, 0.65));
}

.viking-preloader-explore {
  min-height: 32px;
  width: min(230px, 100%);
  justify-content: center;
  border: 1px solid #2f6768;
  color: #073035;
  text-transform: uppercase;
  letter-spacing: 0.1em;
  font-family: var(--font-display);
  font-size: 1.04rem;
  background:
    linear-gradient(180deg, #62b2b5 0%, #3d8f92 52%, #2c7b7d 100%);
  box-shadow:
    inset 0 1px 0 rgba(205, 245, 240, 0.58),
    inset 0 -8px 12px rgba(9, 56, 57, 0.28),
    0 4px 10px rgba(0, 0, 0, 0.3);
}

.viking-preloader-explore::before,
.viking-preloader-explore::after {
  content: '';
  position: absolute;
  top: 50%;
  width: 20px;
  height: 10px;
  background: #3d8f92;
  border: 1px solid #2f6768;
  transform: translateY(-50%);
  pointer-events: none;
}

.viking-preloader-explore::before {
  left: -14px;
}

.viking-preloader-explore::after {
  right: -14px;
}

@keyframes viking-loader-fill {
  from {
    width: 0;
  }

  to {
    width: 100%;
  }
}

@keyframes viking-loader-dots {
  from {
    width: 0;
  }

  to {
    width: 1.6ch;
  }
}

@keyframes viking-loader-fadein {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@media (max-width: 980px) {
  .viking-preloader-scene {
    grid-template-columns: 1fr;
    padding: 0;
  }

  .viking-preloader-panel {
    grid-column: 1;
    width: min(100%, 520px);
    justify-self: start;
    padding: 18px;
  }
}

@media (max-width: 980px) {
  .site-header {
    grid-template-columns: 1fr;
    border-radius: 0;
  }

  .site-nav {
    justify-content: flex-start;
  }

  .product-card {
    grid-column: span 6;
  }

  .experience-card {
    grid-template-columns: 1fr;
  }

  .page-shell.experience-shell.immersive {
    width: min(1180px, 94vw);
    padding: 8px 0 12px;
  }

  .experience-panel.fullscreen {
    margin-top: 0;
    padding: 12px;
  }

  .experience-panel.fullscreen .experience-card {
    grid-template-columns: 1fr;
    grid-template-rows: minmax(250px, 48vh) auto;
  }

  .experience-panel.fullscreen .experience-copy {
    align-content: start;
  }

  .experience-panel.intro.fullscreen-entry {
    min-height: 0;
    height: 100%;
  }
}

@media (max-width: 640px) {
  .page-shell {
    width: min(1180px, 94vw);
    padding-top: 14px;
  }

  .entry-stage {
    width: min(1180px, 94vw);
    padding: 8px 0;
  }

  .logo {
    width: 100%;
    text-align: center;
  }

  .site-actions {
    width: 100%;
    justify-content: space-between;
  }

  .theme-toggle {
    flex: 1;
    font-size: 0.67rem;
    letter-spacing: 0.05em;
    padding: 10px 10px;
  }

  .cart-button {
    justify-content: center;
    min-width: 110px;
  }

  .entry-hero,
  .store-head,
  .experience-panel {
    margin-top: 18px;
    padding: 18px;
    border-radius: 0;
  }

  .entry-hero.fullscreen-entry {
    min-height: calc(100dvh - 16px);
  }

  .product-grid {
    gap: 12px;
  }

  .product-card {
    grid-column: span 12;
    padding: 12px;
  }

  .cart-drawer {
    width: calc(100vw - 12px);
    top: 6px;
    right: 6px;
    bottom: 6px;
  }

  .checkout-modal {
    width: calc(100vw - 12px);
    padding: 14px;
  }

  .page-shell.experience-shell.immersive {
    width: calc(100vw - 8px);
    padding: 4px 0 8px;
  }

  .experience-panel.fullscreen {
    margin-top: 0;
    border-radius: 0;
    padding: 10px;
  }

  .experience-panel.fullscreen .experience-card {
    padding: 10px;
    gap: 10px;
    grid-template-rows: minmax(220px, 40vh) auto;
  }

  .experience-panel.fullscreen .experience-copy h2 {
    font-size: clamp(1.45rem, 7vw, 2.2rem);
  }

  .experience-panel.intro.fullscreen-entry {
    min-height: 0;
    height: 100%;
  }
}

/* Squircle radius pass: softer corners without going full brutalist square */
:root {
  --radius-lg: 22px;
  --radius-md: 16px;
  --radius-sm: 12px;
  --radius-xs: 9px;
}

.site-header,
.entry-hero,
.store-head,
.experience-panel,
.product-card,
.experience-card,
.cart-drawer,
.checkout-modal,
.cart-item,
.checkout-summary,
.filter-row,
.confirmation {
  border-radius: var(--radius-lg);
}

.logo,
.site-nav a,
.theme-toggle,
.cart-button,
.icon-button,
.button,
.filter-row button {
  border-radius: var(--radius-md);
}

.product-image-wrap,
.experience-image-wrap,
.cart-thumb,
.checkout-modal input,
.progress-track,
.progress-track i {
  border-radius: var(--radius-sm);
}

.product-badge,
.cart-button span,
.confetti span {
  border-radius: var(--radius-xs);
}

html[data-theme='viking'] .site-header::before,
html[data-theme='viking'] .entry-hero::before,
html[data-theme='viking'] .store-head::before,
html[data-theme='viking'] .experience-panel::before,
html[data-theme='viking'] .product-card::before,
html[data-theme='viking'] .experience-card::before {
  border-radius: inherit;
}

html[data-theme='viking'] .site-nav a::before,
html[data-theme='viking'] .button::before,
html[data-theme='viking'] .theme-toggle::before,
html[data-theme='viking'] .cart-button::before,
html[data-theme='viking'] .filter-row button::before,
html[data-theme='viking'] .icon-button::before {
  border-radius: calc(var(--radius-md) - 3px);
}

/* Default theme pass: editorial minimal storefront */
html[data-theme='default'] {
  --font-display: 'Manrope', 'Avenir Next', 'Segoe UI', sans-serif;
  --bg: #f3f3f3;
  --bg-alt: #ebebeb;
  --surface: #ffffff;
  --surface-alt: #f8f8f8;
  --ink: #121212;
  --muted: #636363;
  --line: #dadada;
  --accent: #111111;
  --accent-contrast: #ffffff;
  --radius-lg: 0;
  --radius-md: 0;
  --radius-sm: 0;
  --radius-xs: 0;
  --shadow: none;
}

html[data-theme='default'] body {
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.92) 0%, rgba(242, 242, 242, 0.96) 100%),
    var(--bg);
}

html[data-theme='default'] .page-shell {
  width: min(1460px, calc(100vw - 12px));
  padding: 0 0 26px;
}

html[data-theme='default'] .entry-stage {
  width: min(1460px, calc(100vw - 12px));
  padding: 0 0 16px;
}

html[data-theme='default'] .site-header {
  top: 0;
  grid-template-columns: 1fr auto 1fr;
  align-items: center;
  border: 0;
  border-bottom: 1px solid var(--line);
  background: color-mix(in srgb, var(--surface) 94%, transparent);
  box-shadow: none;
  backdrop-filter: blur(12px);
  padding: 9px 4px;
  gap: 8px;
}

html[data-theme='default'] .logo {
  grid-column: 2;
  justify-self: center;
  padding: 0;
  background: transparent;
  font-size: 0.92rem;
  font-weight: 500;
  letter-spacing: 0.08em;
}

html[data-theme='default'] .site-nav {
  grid-column: 1;
  justify-self: start;
  justify-content: flex-start;
  flex-wrap: wrap;
  gap: 10px;
}

html[data-theme='default'] .site-nav a {
  border: 0;
  border-bottom: 1px solid transparent;
  padding: 5px 8px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: #767676;
}

html[data-theme='default'] .site-nav .nav-ghost {
  padding: 6px 0;
  font-size: 0.66rem;
  letter-spacing: 0.14em;
  color: #808080;
}

html[data-theme='default'] .site-nav a:hover,
html[data-theme='default'] .site-nav a.is-active {
  border-color: var(--ink);
  background: transparent;
  color: var(--ink);
}

html[data-theme='default'] .site-actions {
  grid-column: 3;
  justify-self: end;
  gap: 6px;
}

html[data-theme='default'] .theme-toggle,
html[data-theme='default'] .cart-button,
html[data-theme='default'] .icon-button {
  background: transparent;
  border: 1px solid var(--line);
  box-shadow: none;
}

html[data-theme='default'] .theme-toggle {
  font-size: 0.64rem;
  letter-spacing: 0.09em;
  padding: 8px 16px;
  min-height: 38px;
}

html[data-theme='default'] .theme-toggle.is-enter {
  --enter-viking-radius: 12px;
  --enter-viking-edge: #c4a571;
  --enter-viking-edge-inner: #e0ca95;
  --enter-viking-label: #efe5cc;
  --enter-viking-side: rgba(196, 158, 98, 0.34);
  --enter-viking-side-glow: rgba(247, 214, 150, 0.3);
}

html[data-theme='default'] .theme-toggle.is-enter::before {
  content: '';
  position: absolute;
  inset: 2px;
  border: 1px solid var(--enter-viking-edge-inner);
  border-radius: calc(var(--enter-viking-radius) - 2px);
  background:
    linear-gradient(
      90deg,
      rgba(255, 238, 198, 0.12) 0 12%,
      transparent 16% 84%,
      rgba(255, 238, 198, 0.12) 88% 100%
    ),
    linear-gradient(180deg, rgba(255, 247, 227, 0.08), transparent 40%, rgba(0, 0, 0, 0.24));
  opacity: 0;
  transform: scale(0.985);
  pointer-events: none;
  transition:
    opacity 180ms ease,
    transform 180ms ease;
}

html[data-theme='default'] .theme-toggle.is-enter::after {
  display: block;
  width: 34%;
  left: -40%;
  opacity: 0;
  transform: skewX(-22deg);
  background: linear-gradient(110deg, transparent, var(--enter-viking-side-glow), transparent);
  transition:
    left 460ms var(--ease),
    opacity 220ms ease;
}

html[data-theme='default'] .theme-toggle.is-enter:hover {
  border-radius: var(--enter-viking-radius);
  border-color: var(--enter-viking-edge);
  color: var(--enter-viking-label);
  text-shadow:
    0 1px 0 rgba(6, 2, 8, 0.9),
    0 0 8px rgba(117, 185, 255, 0.26);
  background:
    linear-gradient(90deg, var(--enter-viking-side) 0 10%, transparent 16% 84%, var(--enter-viking-side) 90% 100%),
    linear-gradient(180deg, rgba(252, 238, 205, 0.2) 0%, transparent 24%),
    repeating-linear-gradient(120deg, rgba(255, 255, 255, 0.04) 0 3px, rgba(0, 0, 0, 0.08) 3px 7px),
    radial-gradient(circle at 50% 14%, rgba(138, 204, 255, 0.3) 0%, transparent 58%),
    linear-gradient(180deg, #4a78b0 0%, #30547f 54%, #1b304c 100%);
  box-shadow:
    inset 0 1px 0 rgba(255, 239, 202, 0.58),
    inset 0 -14px 20px rgba(8, 4, 2, 0.56),
    0 11px 20px rgba(0, 0, 0, 0.42);
  transform: translateY(-2px);
}

html[data-theme='default'] .theme-toggle.is-enter:hover::before {
  opacity: 1;
  transform: none;
}

html[data-theme='default'] .theme-toggle.is-enter:hover::after {
  left: 118%;
  opacity: 1;
}

html[data-theme='default'] .theme-toggle.is-active:hover {
  background: #111111;
  color: #ffffff;
  border-color: #111111;
}

html[data-theme='default'] .cart-button {
  padding: 8px 11px;
  gap: 8px;
  font-size: 0.74rem;
}

html[data-theme='default'] .cart-button span {
  width: 20px;
  height: 20px;
  background: #111111;
  color: #ffffff;
  font-size: 0.72rem;
}

html[data-theme='default'] .entry-hero,
html[data-theme='default'] .store-head,
html[data-theme='default'] .experience-panel {
  border: 0;
  box-shadow: none;
}

html[data-theme='default'] .entry-hero.fullscreen-entry {
  min-height: calc(100dvh - 60px);
  border: 1px solid var(--line);
  background:
    linear-gradient(180deg, rgba(255, 255, 255, 0.72) 0%, rgba(242, 242, 242, 0.88) 100%),
    linear-gradient(90deg, rgba(20, 20, 20, 0.03) 1px, transparent 1px);
  background-size: auto, 38px 38px;
}

html[data-theme='default'] .entry-hero h1 {
  margin-top: 12px;
  font-size: clamp(2.6rem, 9vw, 7.2rem);
  font-weight: 500;
  letter-spacing: -0.035em;
  line-height: 0.92;
}

html[data-theme='default'] .entry-hero > p {
  margin-top: 12px;
  font-size: 0.95rem;
  max-width: 540px;
}

html[data-theme='default'] .store-head {
  margin-top: 6px;
  padding: 8px 0 7px;
  border-bottom: 1px solid #d7d7d7;
  background: transparent;
}

html[data-theme='default'] .store-head h1 {
  margin-top: 8px;
  font-size: clamp(1.2rem, 2.5vw, 1.95rem);
  font-weight: 600;
  letter-spacing: -0.02em;
}

html[data-theme='default'] .store-head > p {
  margin-top: 4px;
  font-size: 0.8rem;
  max-width: 460px;
  line-height: 1.45;
}

html[data-theme='default'] .filter-row {
  margin-top: 8px;
  padding: 0;
  border: 0;
  background: transparent;
  gap: 14px;
}

html[data-theme='default'] .filter-row button {
  padding: 3px 0;
  border-bottom: 1px solid transparent;
  font-size: 0.64rem;
  letter-spacing: 0.13em;
  text-transform: uppercase;
  font-weight: 600;
}

html[data-theme='default'] .filter-row button.is-active {
  background: transparent;
  color: var(--ink);
  border-bottom-color: var(--ink);
}

html[data-theme='default'] .product-grid {
  margin-top: 6px;
  gap: 9px;
}

html[data-theme='default'] .product-card {
  grid-column: span 3;
  border: 0;
  background: transparent;
  padding: 0;
  gap: 7px;
  box-shadow: none;
}

html[data-theme='default'] .product-card:hover {
  transform: none;
  border-color: transparent;
  box-shadow: none;
}

html[data-theme='default'] .product-image-wrap {
  border: 0;
  aspect-ratio: 3 / 4;
  background: #fff;
}

html[data-theme='default'] .product-image {
  transition: transform 320ms var(--ease);
}

html[data-theme='default'] .product-card:hover .product-image {
  transform: none;
}

html[data-theme='default'] .product-badge {
  top: 0;
  left: 0;
  padding: 5px 7px;
  font-size: 0.58rem;
  letter-spacing: 0.12em;
}

html[data-theme='default'] .product-meta {
  display: block;
}

html[data-theme='default'] .product-kicker {
  font-size: 0.56rem;
  letter-spacing: 0.14em;
  color: #848484;
}

html[data-theme='default'] .product-meta h3 {
  margin: 4px 0 0;
  font-family: var(--font-body);
  font-size: 0.92rem;
  font-weight: 500;
  line-height: 1.35;
}

html[data-theme='default'] .product-price {
  margin-top: 2px;
  font-size: 0.86rem;
  font-weight: 500;
}

html[data-theme='default'] .product-description {
  margin-top: 0;
  font-size: 0.72rem;
  line-height: 1.38;
  color: #7a7a7a;
  display: -webkit-box;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

html[data-theme='default'] .product-size {
  display: none;
}

html[data-theme='default'] .button {
  border: 1px solid var(--line);
  background: #ffffff;
  color: #111111;
  padding: 8px 12px;
  font-size: 0.66rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

html[data-theme='default'] .button:hover {
  transform: none;
  filter: none;
  background: #111111;
  border-color: #111111;
  color: #ffffff;
}

html[data-theme='default'] .button.ghost {
  border-color: #cfcfcf;
  color: #111111;
}

html[data-theme='default'] .button.ghost:hover {
  background: #eeeeee;
  border-color: #c7c7c7;
  color: #111111;
}

html[data-theme='default'] .button.is-added {
  background: #efefef;
  border-color: #d6d6d6;
  color: #111111;
}

html[data-theme='default'] .product-card .button {
  justify-self: start;
  opacity: 0;
  pointer-events: none;
  transform: translateY(-2px);
  transition:
    opacity 180ms ease,
    transform 180ms ease;
}

html[data-theme='default'] .product-card:hover .button,
html[data-theme='default'] .product-card:focus-within .button {
  opacity: 1;
  pointer-events: auto;
  transform: none;
}

html[data-theme='default'] .cart-drawer,
html[data-theme='default'] .checkout-modal {
  background: #f7f7f7;
  border-color: #d4d4d4;
  box-shadow: 0 22px 50px rgba(0, 0, 0, 0.14);
}

html[data-theme='default'] .cart-item,
html[data-theme='default'] .checkout-summary,
html[data-theme='default'] .confirmation {
  background: #ffffff;
  border-color: #d8d8d8;
}

html[data-theme='default'] .cart-thumb,
html[data-theme='default'] .checkout-modal input {
  background: #ffffff;
  border-color: #d2d2d2;
}

html[data-theme='default'] .experience-panel {
  border: 1px solid var(--line);
  background: color-mix(in srgb, #ffffff 84%, #f1f1f1);
}

html[data-theme='default'] .experience-card {
  border: 0;
  background: transparent;
  padding: 0;
  gap: 12px;
}

html[data-theme='default'] .experience-image-wrap {
  border: 0;
  background: #fff;
}

html[data-theme='default'] .experience-copy h2 {
  font-family: var(--font-body);
  font-weight: 500;
  letter-spacing: -0.02em;
}

html[data-theme='default'] .store-hero {
  margin-top: 16px;
}

html[data-theme='default'] .store-hero h2 {
  font-size: 1.85rem;
  letter-spacing: 0.03em;
}

html[data-theme='default'] .store-hero-stage {
  margin-top: 18px;
  border: 0;
  background: #ffffff;
}

html[data-theme='default'] .store-hero-image {
  width: 100%;
  height: 100%;
}

html[data-theme='default'] .catalog-topbar {
  margin-top: 12px;
  border-top: 0;
  border-bottom: 1px solid #d8d8d8;
  padding: 0 0 8px;
}

html[data-theme='default'] .catalog-topbar p,
html[data-theme='default'] .catalog-tools span {
  font-size: 0.66rem;
  letter-spacing: 0.12em;
  text-transform: uppercase;
}

@media (max-width: 980px) {
  html[data-theme='default'] .site-header {
    grid-template-columns: 1fr;
    gap: 6px;
    padding: 8px 0 10px;
  }

  html[data-theme='default'] .site-nav {
    justify-content: flex-start;
  }

  html[data-theme='default'] .product-card {
    grid-column: span 6;
  }

  html[data-theme='default'] .store-hero h2 {
    font-size: 1.4rem;
  }

  html[data-theme='default'] .store-hero-stage {
    height: 300px;
    min-height: 300px;
  }

  html[data-theme='default'] .product-card .button {
    opacity: 1;
    pointer-events: auto;
    transform: none;
  }
}

@media (max-width: 640px) {
  html[data-theme='default'] .page-shell,
  html[data-theme='default'] .entry-stage {
    width: calc(100vw - 8px);
  }

  html[data-theme='default'] .entry-hero.fullscreen-entry {
    min-height: calc(100dvh - 14px);
  }

  html[data-theme='default'] .theme-toggle {
    font-size: 0.61rem;
    padding: 8px 8px;
  }

  html[data-theme='default'] .logo {
    justify-self: start;
    font-size: 0.8rem;
  }

  html[data-theme='default'] .site-nav {
    gap: 8px;
  }

  html[data-theme='default'] .site-nav .nav-ghost {
    display: none;
  }

  html[data-theme='default'] .product-grid {
    gap: 10px;
  }

  html[data-theme='default'] .product-card {
    grid-column: span 12;
  }

  html[data-theme='default'] .store-hero h2 {
    font-size: 1.06rem;
    letter-spacing: 0.1em;
  }

  html[data-theme='default'] .store-hero-stage {
    height: 236px;
    min-height: 236px;
  }

  html[data-theme='default'] .catalog-topbar {
    padding-bottom: 6px;
  }
}

/* Viking mode: forged RPG controls (beveled frame, no gem circles) */
html[data-theme='viking'] {
  --viking-btn-border: #b89a64;
  --viking-btn-border-inner: #dcc48f;
  --viking-btn-label: #efe5ff;
  --viking-btn-main-top: #5c4bb7;
  --viking-btn-main-mid: #3c2f8a;
  --viking-btn-main-bottom: #211a4d;
  --viking-btn-radius: 13px;
}

html[data-theme='viking'] .site-nav a,
html[data-theme='viking'] .button,
html[data-theme='viking'] .theme-toggle,
html[data-theme='viking'] .cart-button,
html[data-theme='viking'] .filter-row button,
html[data-theme='viking'] .icon-button {
  --viking-core-top: var(--viking-btn-main-top);
  --viking-core-mid: var(--viking-btn-main-mid);
  --viking-core-bottom: var(--viking-btn-main-bottom);
  --viking-core-glow: rgba(174, 151, 255, 0.32);
  --viking-edge: var(--viking-btn-border);
  --viking-edge-inner: var(--viking-btn-border-inner);
  --viking-side-plate: rgba(184, 154, 100, 0.46);
  --viking-side-plate-glow: rgba(250, 225, 166, 0.3);
  position: relative;
  z-index: 0;
  isolation: isolate;
  overflow: hidden;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  min-height: var(--viking-btn-min-height, 40px);
  padding-inline: 20px;
  border: 1px solid var(--viking-edge);
  border-radius: var(--viking-btn-radius);
  color: var(--viking-btn-label);
  text-shadow:
    0 1px 0 rgba(6, 2, 8, 0.9),
    0 0 9px rgba(124, 95, 230, 0.34);
  background:
    linear-gradient(90deg, var(--viking-side-plate) 0 10%, transparent 16% 84%, var(--viking-side-plate) 90% 100%),
    linear-gradient(180deg, rgba(252, 238, 205, 0.24) 0%, transparent 24%),
    repeating-linear-gradient(120deg, rgba(255, 255, 255, 0.04) 0 3px, rgba(0, 0, 0, 0.08) 3px 7px),
    radial-gradient(circle at 50% 14%, var(--viking-core-glow) 0%, transparent 58%),
    linear-gradient(180deg, var(--viking-core-top) 0%, var(--viking-core-mid) 54%, var(--viking-core-bottom) 100%);
  background-size:
    100% 100%,
    100% 100%,
    170% 100%,
    100% 100%,
    100% 100%;
  background-position:
    0 0,
    0 0,
    0 0,
    0 0,
    0 0;
  box-shadow:
    inset 0 1px 0 rgba(255, 232, 185, 0.54),
    inset 0 -12px 16px rgba(6, 4, 10, 0.5),
    0 10px 18px rgba(2, 3, 8, 0.46);
  transition:
    transform 170ms ease,
    border-color 170ms ease,
    box-shadow 170ms ease,
    filter 170ms ease,
    background-position 280ms ease;
}

html[data-theme='viking'] .site-nav a::before,
html[data-theme='viking'] .button::before,
html[data-theme='viking'] .theme-toggle::before,
html[data-theme='viking'] .cart-button::before,
html[data-theme='viking'] .filter-row button::before,
html[data-theme='viking'] .icon-button::before {
  content: '';
  position: absolute;
  inset: 3px;
  border: 1px solid color-mix(in srgb, var(--viking-edge-inner) 88%, transparent);
  border-radius: calc(var(--viking-btn-radius) - 3px);
  background:
    linear-gradient(
      90deg,
      rgba(255, 238, 198, 0.12) 0 12%,
      transparent 16% 84%,
      rgba(255, 238, 198, 0.12) 88% 100%
    ),
    linear-gradient(180deg, rgba(255, 247, 227, 0.08), transparent 40%, rgba(0, 0, 0, 0.24));
  box-shadow:
    inset 0 1px 0 rgba(255, 247, 223, 0.25),
    inset 0 -1px 0 rgba(25, 15, 9, 0.7);
  z-index: -2;
  pointer-events: none;
}

html[data-theme='viking'] .site-nav a::after,
html[data-theme='viking'] .button::after,
html[data-theme='viking'] .theme-toggle::after,
html[data-theme='viking'] .cart-button::after,
html[data-theme='viking'] .filter-row button::after,
html[data-theme='viking'] .icon-button::after {
  content: '';
  position: absolute;
  inset: 1px;
  border-radius: calc(var(--viking-btn-radius) - 1px);
  background:
    linear-gradient(
      90deg,
      transparent 0,
      var(--viking-side-plate-glow) 8%,
      transparent 22%,
      transparent 78%,
      var(--viking-side-plate-glow) 92%,
      transparent 100%
    ),
    linear-gradient(180deg, rgba(255, 255, 255, 0.1), transparent 34%, rgba(0, 0, 0, 0.2));
  z-index: -1;
  pointer-events: none;
}

html[data-theme='viking'] .button,
html[data-theme='viking'] .theme-toggle,
html[data-theme='viking'] .cart-button,
html[data-theme='viking'] .filter-row button,
html[data-theme='viking'] .icon-button {
  text-transform: uppercase;
  letter-spacing: 0.1em;
}

html[data-theme='viking'] .site-nav a {
  --viking-core-top: #7a5d36;
  --viking-core-mid: #4f351d;
  --viking-core-bottom: #2b1b10;
  --viking-core-glow: rgba(239, 189, 110, 0.26);
  --viking-side-plate: rgba(180, 136, 74, 0.42);
  --viking-side-plate-glow: rgba(239, 189, 110, 0.28);
  --viking-btn-label: #edd9af;
  --viking-btn-radius: 11px;
  font-size: 0.76rem;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

html[data-theme='viking'] .cart-button {
  --viking-core-top: #a56a35;
  --viking-core-mid: #6f3f20;
  --viking-core-bottom: #3d2113;
  --viking-core-glow: rgba(242, 165, 88, 0.32);
  --viking-side-plate: rgba(212, 164, 92, 0.46);
  --viking-side-plate-glow: rgba(248, 205, 129, 0.32);
  --viking-btn-label: #f7e5bf;
}

html[data-theme='viking'] .filter-row button {
  --viking-core-top: #61594d;
  --viking-core-mid: #443c34;
  --viking-core-bottom: #27211d;
  --viking-core-glow: rgba(199, 184, 161, 0.2);
  --viking-side-plate: rgba(170, 150, 122, 0.34);
  --viking-side-plate-glow: rgba(214, 198, 176, 0.22);
  --viking-btn-label: #e7dbc7;
  --viking-btn-radius: 10px;
  min-height: 34px;
  letter-spacing: 0.08em;
}

html[data-theme='viking'] .icon-button {
  --viking-core-top: #5d5458;
  --viking-core-mid: #41383d;
  --viking-core-bottom: #241d21;
  --viking-core-glow: rgba(214, 197, 170, 0.16);
  --viking-side-plate: rgba(158, 139, 111, 0.34);
  --viking-side-plate-glow: rgba(214, 197, 170, 0.22);
  --viking-btn-label: #e6dac8;
  --viking-btn-radius: 10px;
  min-height: 34px;
  padding-inline: 13px;
  font-size: 0.68rem;
}

html[data-theme='viking'] .theme-toggle.is-active {
  --viking-core-top: #4a78b0;
  --viking-core-mid: #30547f;
  --viking-core-bottom: #1b304c;
  --viking-core-glow: rgba(138, 204, 255, 0.34);
  --viking-side-plate: rgba(131, 173, 214, 0.36);
  --viking-side-plate-glow: rgba(170, 219, 255, 0.3);
  --viking-btn-label: #e8f4ff;
  --viking-btn-min-height: 44px;
}

html[data-theme='viking'] .theme-toggle.is-enter {
  --viking-core-top: #8a6333;
  --viking-core-mid: #5c3e22;
  --viking-core-bottom: #342214;
  --viking-core-glow: rgba(241, 183, 105, 0.3);
  --viking-side-plate: rgba(206, 151, 82, 0.38);
  --viking-side-plate-glow: rgba(244, 205, 141, 0.27);
  --viking-btn-label: #f4e0b8;
}

html[data-theme='viking'] .button.ghost {
  --viking-core-top: #7b3038;
  --viking-core-mid: #57222a;
  --viking-core-bottom: #31151c;
  --viking-core-glow: rgba(225, 122, 130, 0.3);
  --viking-edge: #a67863;
  --viking-edge-inner: #c99882;
  --viking-side-plate: rgba(192, 137, 120, 0.4);
  --viking-side-plate-glow: rgba(246, 189, 171, 0.27);
  --viking-btn-label: #f6dddb;
}

html[data-theme='viking'] .button.is-added {
  --viking-core-top: #3f7c70;
  --viking-core-mid: #2a5c52;
  --viking-core-bottom: #173a34;
  --viking-core-glow: rgba(117, 228, 196, 0.28);
  --viking-edge: #7f9f7e;
  --viking-edge-inner: #a1c29d;
  --viking-side-plate: rgba(131, 185, 164, 0.36);
  --viking-side-plate-glow: rgba(178, 237, 214, 0.24);
  --viking-btn-label: #dbfff1;
}

html[data-theme='viking'] .site-nav a:hover,
html[data-theme='viking'] .site-nav a.is-active,
html[data-theme='viking'] .button:hover,
html[data-theme='viking'] .cart-button:hover,
html[data-theme='viking'] .theme-toggle:hover,
html[data-theme='viking'] .filter-row button:hover,
html[data-theme='viking'] .filter-row button.is-active,
html[data-theme='viking'] .icon-button:hover {
  border-color: #e6cb94;
  filter: brightness(1.07) saturate(1.08);
  transform: translateY(-2px);
  background-position:
    0 0,
    0 0,
    56% 0,
    0 0,
    0 0;
  box-shadow:
    inset 0 1px 0 rgba(255, 246, 222, 0.58),
    inset 0 -14px 20px rgba(6, 4, 10, 0.54),
    0 13px 24px rgba(0, 0, 0, 0.48);
}

html[data-theme='viking'] .site-nav a:active,
html[data-theme='viking'] .button:active,
html[data-theme='viking'] .cart-button:active,
html[data-theme='viking'] .theme-toggle:active,
html[data-theme='viking'] .filter-row button:active,
html[data-theme='viking'] .icon-button:active {
  transform: translateY(1px);
  filter: brightness(0.96);
  box-shadow:
    inset 0 3px 7px rgba(0, 0, 0, 0.56),
    inset 0 1px 0 rgba(255, 229, 179, 0.3),
    0 6px 12px rgba(0, 0, 0, 0.42);
}

html[data-theme='viking'] .button:disabled,
html[data-theme='viking'] .cart-button:disabled,
html[data-theme='viking'] .theme-toggle:disabled,
html[data-theme='viking'] .filter-row button:disabled,
html[data-theme='viking'] .icon-button:disabled {
  transform: none;
  filter: saturate(0.6) brightness(0.78);
  box-shadow:
    inset 0 1px 0 rgba(255, 229, 179, 0.28),
    inset 0 -12px 16px rgba(4, 3, 7, 0.52),
    0 6px 12px rgba(0, 0, 0, 0.28);
}

html[data-theme='viking'] .cart-button span {
  border: 1px solid #d5b67a;
  color: #fff4d9;
  background: radial-gradient(circle at 35% 28%, #fff8d8 0%, #e0b566 38%, #8b5f27 66%, #502f13 100%);
  box-shadow:
    inset 0 1px 1px rgba(255, 244, 214, 0.82),
    0 1px 6px rgba(0, 0, 0, 0.56);
}

@media (max-width: 640px) {
  html[data-theme='viking'] .site-nav a,
  html[data-theme='viking'] .button,
  html[data-theme='viking'] .theme-toggle,
  html[data-theme='viking'] .cart-button,
  html[data-theme='viking'] .filter-row button,
  html[data-theme='viking'] .icon-button {
    min-height: 34px;
    padding-inline: 15px;
  }

  html[data-theme='viking'] .site-nav a {
    font-size: 0.7rem;
  }
}
